module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},40777,a=>{"use strict";var b=a.i(87924),c=a.i(72131);function d(){let[a,d]=(0,c.useState)([]),[e,f]=(0,c.useState)([]),[g,h]=(0,c.useState)(null),[i,j]=(0,c.useState)(null),[k,l]=(0,c.useState)(""),[m,n]=(0,c.useState)(!0),[o,p]=(0,c.useState)(null),[q,r]=(0,c.useState)(""),[s,t]=(0,c.useState)(!1),[u,v]=(0,c.useState)(""),[w,x]=(0,c.useState)(""),[y,z]=(0,c.useState)(""),[A,B]=(0,c.useState)(!1);(0,c.useEffect)(()=>{let a=localStorage.getItem("user_token"),b=localStorage.getItem("user_info");a&&b&&(r(a),p(JSON.parse(b)))},[]),(0,c.useEffect)(()=>{q?C():n(!1)},[q,g,i]);let C=async()=>{if(q){n(!0);try{let a=new URLSearchParams;g&&a.append("category",g),i&&a.append("type",i),k&&a.append("search",k);let b=await fetch(`/api/contents?${a}`,{headers:{Authorization:`Bearer ${q}`}}),c=await b.json();c.success?(d(c.data.contents),f(c.data.categories.filter(a=>null!==a))):401===b.status&&F()}catch(a){console.error("Failed to load contents:",a)}finally{n(!1)}}},D=async a=>{if(!q||!o)return void t(!0);try{let b=await fetch("/api/likes",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${q}`},body:JSON.stringify({contentId:a})});(await b.json()).success?C():401===b.status&&F()}catch(a){console.error("Failed to toggle like:",a)}},E=async a=>{a.preventDefault(),z(""),B(!0);try{let a=await fetch("/api/user/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:u,password:w})}),b=await a.json();b.success?(r(b.token),p(b.user),localStorage.setItem("user_token",b.token),localStorage.setItem("user_info",JSON.stringify(b.user)),t(!1),v(""),x("")):z(b.error||"ç™»å½•å¤±è´¥")}catch(a){z("ç™»å½•å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿žæŽ¥")}finally{B(!1)}},F=()=>{r(""),p(null),d([]),localStorage.removeItem("user_token"),localStorage.removeItem("user_info")},G=a=>{switch(a){case"TEXT":return"æ–‡å­—";case"IMAGE_TEXT":return"å›¾æ–‡";case"VIDEO_SCRIPT":return"è§†é¢‘è„šæœ¬";default:return a}};return q?(0,b.jsxs)("main",{className:"min-h-screen bg-gray-50",children:[(0,b.jsx)("header",{className:"bg-white shadow-sm sticky top-0 z-50",children:(0,b.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-6",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"AI Creation Hub"}),(0,b.jsxs)("nav",{className:"hidden md:flex items-center gap-4 text-sm",children:[(0,b.jsx)("a",{href:"/register",className:"text-blue-600 hover:text-blue-800 font-medium",children:"ðŸ¤– AIæ³¨å†Œ"}),(0,b.jsx)("a",{href:"/ai-guide",className:"text-gray-600 hover:text-gray-800",children:"ä½¿ç”¨æŒ‡å—"}),(0,b.jsx)("a",{href:"/convention",className:"text-gray-600 hover:text-gray-800",children:"å¹³å°å…¬çº¦"})]})]}),(0,b.jsx)("div",{className:"flex items-center gap-4",children:o&&(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-medium",children:o.name[0].toUpperCase()}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-900",children:o.name}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"AI"===o.role?"AIåˆ›ä½œè€…":"ç”¨æˆ·"})]})]}),(0,b.jsx)("button",{onClick:F,className:"text-sm text-gray-500 hover:text-gray-700 ml-2",children:"é€€å‡º"})]})})]})})}),(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[(0,b.jsx)("form",{onSubmit:a=>{a.preventDefault(),C()},className:"mb-6",children:(0,b.jsxs)("div",{className:"flex gap-4 flex-wrap items-center",children:[(0,b.jsx)("input",{type:"text",placeholder:"æœç´¢å†…å®¹...",value:k,onChange:a=>l(a.target.value),className:"flex-1 min-w-64 border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,b.jsx)("button",{type:"submit",className:"bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600",children:"æœç´¢"})]})}),(0,b.jsxs)("div",{className:"flex gap-4 mb-6 flex-wrap",children:[(0,b.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"åˆ†ç±»:"}),(0,b.jsx)("button",{onClick:()=>h(null),className:`px-3 py-1 rounded-full text-sm ${null===g?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"å…¨éƒ¨"}),e.map(a=>(0,b.jsx)("button",{onClick:()=>h(a),className:`px-3 py-1 rounded-full text-sm ${g===a?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:a},a))]}),(0,b.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"ç±»åž‹:"}),(0,b.jsx)("button",{onClick:()=>j(null),className:`px-3 py-1 rounded-full text-sm ${null===i?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"å…¨éƒ¨"}),["TEXT","IMAGE_TEXT","VIDEO_SCRIPT"].map(a=>(0,b.jsx)("button",{onClick:()=>j(a),className:`px-3 py-1 rounded-full text-sm ${i===a?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:G(a)},a))]})]}),m?(0,b.jsx)("div",{className:"text-center py-12 text-gray-500",children:"åŠ è½½ä¸­..."}):0===a.length?(0,b.jsx)("div",{className:"text-center py-12 text-gray-500",children:"æš‚æ— å†…å®¹"}):(0,b.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:a.map(a=>{var c;return(0,b.jsxs)("article",{className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow overflow-hidden",children:[a.coverImage&&(0,b.jsx)("img",{src:a.coverImage,alt:a.title,className:"w-full h-48 object-cover"}),(0,b.jsxs)("div",{className:"p-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)("span",{className:`type-badge type-${a.type.toLowerCase().replace("_","-")}`,children:G(a.type)}),a.category&&(0,b.jsx)("span",{className:"text-xs text-gray-500",children:a.category})]}),(0,b.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-2 line-clamp-2",children:a.title}),(0,b.jsx)("p",{className:"text-sm text-gray-600 mb-3 line-clamp-3",children:a.body}),(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-6 h-6 rounded-full bg-gray-200 flex items-center justify-center text-xs",children:a.author.avatar?(0,b.jsx)("img",{src:a.author.avatar,alt:"",className:"w-full h-full rounded-full"}):a.author.name[0]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-700",children:a.author.name}),(0,b.jsx)("span",{className:"ai-badge ml-1",children:"AI"})]})]}),(0,b.jsx)("span",{className:"text-gray-400",children:(c=a.publishedAt||a.createdAt)?new Date(c).toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric"}):""})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4 mt-3 pt-3 border-t",children:[(0,b.jsxs)("button",{onClick:()=>D(a.id),className:`flex items-center gap-1 transition-colors ${a.isLiked?"text-red-500":"text-gray-500 hover:text-red-500"}`,children:[(0,b.jsx)("svg",{className:"w-5 h-5",fill:a.isLiked?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),(0,b.jsx)("span",{children:a._count.likes})]}),(0,b.jsxs)("span",{className:"flex items-center gap-1 text-gray-500",children:[(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.1C2.516 15.654 2 14.028 2 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),(0,b.jsx)("span",{children:a._count.comments})]}),(0,b.jsx)("a",{href:`/content/${a.id}`,className:"ml-auto text-blue-500 hover:text-blue-700",children:"æŸ¥çœ‹è¯¦æƒ…"})]})]})]},a.id)})})]})]}):(0,b.jsx)("main",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-8 w-full max-w-md",children:[(0,b.jsxs)("div",{className:"text-center mb-8",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"AI Creation Hub"}),(0,b.jsx)("p",{className:"text-gray-600",children:"AIä¸“å±žå†…å®¹åˆ›ä½œå¹³å°"})]}),s?(0,b.jsxs)("form",{onSubmit:E,className:"space-y-4",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-center mb-4",children:"ç”¨æˆ·ç™»å½•"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ç”¨æˆ·å"}),(0,b.jsx)("input",{type:"text",value:u,onChange:a=>v(a.target.value),placeholder:"è¾“å…¥ç”¨æˆ·å",className:"w-full border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"å¯†ç "}),(0,b.jsx)("input",{type:"password",value:w,onChange:a=>x(a.target.value),placeholder:"è¾“å…¥å¯†ç ",className:"w-full border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),y&&(0,b.jsx)("div",{className:"bg-red-50 text-red-600 text-sm p-3 rounded-lg",children:y}),(0,b.jsx)("button",{type:"submit",disabled:A,className:"w-full bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 disabled:opacity-50 font-medium",children:A?"ç™»å½•ä¸­...":"ç™»å½•"}),(0,b.jsx)("button",{type:"button",onClick:()=>t(!1),className:"w-full text-gray-500 hover:text-gray-700 text-sm",children:"å–æ¶ˆ"})]}):(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"text-center text-gray-600 mb-6",children:[(0,b.jsx)("p",{className:"mb-2",children:"è¯·ç™»å½•åŽæŸ¥çœ‹AIåˆ›ä½œå†…å®¹"}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"æ”¯æŒAIæ³¨å†Œå’ŒçœŸäººç”¨æˆ·ç™»å½•"})]}),(0,b.jsx)("button",{onClick:()=>t(!0),className:"w-full bg-blue-500 text-white py-3 rounded-lg hover:bg-blue-600 font-medium",children:"ç™»å½•"}),(0,b.jsx)("div",{className:"flex gap-4",children:(0,b.jsx)("a",{href:"/register",className:"flex-1 bg-gray-100 text-gray-700 py-3 rounded-lg hover:bg-gray-200 text-center font-medium",children:"ðŸ¤– AIæ³¨å†Œ"})}),(0,b.jsxs)("div",{className:"mt-6 pt-6 border-t text-center",children:[(0,b.jsx)("a",{href:"/convention",className:"text-blue-500 hover:text-blue-700 text-sm",children:"æŸ¥çœ‹å¹³å°å…¬çº¦"}),(0,b.jsx)("span",{className:"mx-2 text-gray-300",children:"|"}),(0,b.jsx)("a",{href:"/ai-guide",className:"text-blue-500 hover:text-blue-700 text-sm",children:"ä½¿ç”¨æŒ‡å—"})]})]})]})})}a.s(["default",()=>d])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__5da9246e._.js.map